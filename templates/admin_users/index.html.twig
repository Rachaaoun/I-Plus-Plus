{% extends 'back.html.twig' %}

{% block title %}Hello AdminUsersController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

{% block content %}
   <div style="background-color: #000000">
       <div class="row my-5 mx-3">
           <div class="col-12 grid-margin">
               <div class="card">
                   <div class="card-body">
                       <h4 class="card-title">Utilisateurs</h4>
                       <div class="table-responsive">
                           <table class="table">
                               <thead>
                               <tr>
                                   <th> Nom de client </th>
                                   <th> Email </th>
                                   <th> Numéro de Téléphone </th>
                                   <th> Role </th>
                                   <th> Modifier </th>
                                   <th> Supprimer </th>
                               </tr>
                               </thead>
                               <tbody>
                               {% for user in users %}
                                   <tr>

                                       <td> {{ user.nom }} {{ user.prenom }} </td>
                                       <td> {{user.email}} </td>
                                       <td> {{ user.numTel }} </td>
                                       <td> {% for role in user.roles%}
                                       {{ role }}
                                           {% endfor %}
                                       </td>
                                       <td> <a href="/admin/users/{{ user.idUser }}">
                                               <div class="badge badge-outline-success">Modifier</div>
                                           </a>
                                       <td>
                                          {% if is_granted('ROLE_ADMIN') %}
                                              <a href="/admin/users/delete/{{ user.idUser }}">
                                                  <div class="badge badge-outline-danger">Supprimer</div>
                                              </a>
                                           {% endif %}
                                       </td>
                                   </tr>
                               {% endfor %}

                               </tbody>
                           </table>
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </div>
    {% endblock %}
{% endblock %}
